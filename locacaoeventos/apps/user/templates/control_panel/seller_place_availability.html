{% extends "control_panel/seller_base.html" %}
{% block page_title %}Disponibilidade & Preços{% endblock page_title %}
{% block panel_title %}Disponibilidade & Preços - {{place.name}}{% endblock panel_title %}
{% load datetime_tags %}
{% load general_tags %}

{% block user_panel_content %}
    <link rel="stylesheet" href="/static/CUSTOM_CSS/core/radio_checkbox.css" type="text/css">
    <link rel="stylesheet" href="/static/CUSTOM_CSS/user/control_panel/seller_place_availability.css" type="text/css">
    <link rel="stylesheet" href="/static/CUSTOM_CSS/core/calendar_colored.css" type="text/css">
    <link rel="stylesheet" href="/static/CUSTOM_CSS/core/review.css" type="text/css">
    <link rel="stylesheet" href="/static/CUSTOM_CSS/core/placeprice.css" type="text/css">



    <!-- CLOCK PICKER -->
    <link rel="stylesheet" type="text/css" href="/static/clockpicker/dist_folder/bootstrap-clockpicker.min.css">
    <link rel="stylesheet" type="text/css" href="/static/clockpicker/assets/css/github.min.css">




    <ul class="breadcrumbs-two">
        <li id="bread1" option="times" class="bread bread1 breadcrumbs_selected"><a><span>Horários&nbsp;</span></a></li>
        <li id="bread2" option="prices" class="bread bread2"><a><span>Preços&nbsp;</span></a></li>
        <li id="bread3" class="bread bread3"><a><span>Sazonalidade&nbsp;</span></a></li>
    </ul>











        <section>
            <div class="options_menu" id="prices" style="text-align:left;">
                {% if has_period %}
                    <div class="row">
                        <div class="col-md-6">
                            <h1>Pacotes de festa e valores</h1>
                            <hr class="line"/>
                            Como cada buffet tem os seus próprios serviços e produtos, é importante uma boa apresentação sobre os  pacotes de festa que serão disponibilizados ao cliente.
                            <div class="separador-20"> </div>


                            Nome:<br>
                            <input type="text" required placeholder="Nome" class="placeprice_field" id="id_name" name="name" maxlength="32"/>
                            <div class="separador-20"> </div>


                            Descrição:<br>
                            <span style="font-size:11px; font-style:italic">(Pequena descrição do Buffet)</span>
                            <textarea type="text" required placeholder="Nome" class="placeprice_field" id="id_description_long" name="description_long" maxlength="128"> </textarea>
                            <div class="separador-20"> </div>





                            Detalhes do Pacote:<br>
                            <span style="font-size:11px; font-style:italic">(Descreva em tópicos o que compõe este pacote)</span>
                            <div class="separador-5"> </div>
                            <input type="text" id="id_description_input" placeholder="Descreva seu pacote de preço em pontos" maxlength="32"/>
                            <div class="add_button" type="description">+</div>
                            <br><br>
                            <div class="separador-5"> </div>
                            <div class="add_container" id="id_description_container">
                                <span id="placeholder_description" style="margin-left:5px; color:#858585">
                                    ex: "Apresentação de Atores"
                                </span>


                            </div>
                            <input type="text" class="placeprice_field" id="id_description" name="name" style="display:none">









                            <div class="separador-20"> </div>


                            Convidados Mínimos:&nbsp;&nbsp;
                            <select class="placeprice_field" id="id_capacity_min" name="capacity_min">
                                <option value="">-</option>
                                {% for i in 501|create_range %}
                                    {% if i == 500 %}
                                        <option value="{{i}}">500+</option>
                                    {% else %}
                                        <option value="{{i}}">{{i}}</option>
                                    {% endif %}
                                {% endfor %}
                            </select>
                            <div class="separador-20"> </div>

                            Convidados Máximos:&nbsp;&nbsp;
                            <select class="placeprice_field" id="id_capacity_max" name="capacity_max">
                                <option value="">-</option>
                                {% for i in 501|create_range %}
                                    {% if i == 500 %}
                                        <option value="{{i}}">500+</option>
                                    {% else %}
                                        <option value="{{i}}">{{i}}</option>
                                    {% endif %}
                                {% endfor %}
                            </select>
                            <div class="separador-20"> </div>


                            Valor unitário (por convidado):<br>
                            <input type="text" required placeholder="R$ 00,00" step="any" class="placeprice_field" id="id_value" name="value" data-thousands="." data-decimal="," data-prefix="R$ " maxlength="9" />
                            <div class="separador-20"> </div>



                            Valor mínimo (absoluto, opcional):<br>
                            <input type="text" required placeholder="R$ 0000,00" step="any" class="placeprice_field" id="id_value_min" name="value_min" data-thousands="." data-decimal="," data-prefix="R$ " maxlength="11" />
                            <div class="separador-20"> </div>


                            <span class="error_message" id="placeprice_add_error">
                                Preencha todos os espaços!
                            </span>

                            <button class="btn btn-default pull-right" style="font-size:12px" id="placeprice_add">Adicionar</button>

                        </div>
                        <div class="col-md-6">

                            <h1>Meus pacotes de festa</h1>
                            <hr class="line"/>
                            <div class="separador-20"> </div>
                            <div id="placeprice_container">
                            </div>

                {% else %}
                    <div class="error_message" style="display:block; float:left">Preencha os horários de funcionamento.</div>
                {% endif %}
            </div>

        </section>










{% block jquery %}
    <script type="text/javascript" src="/static/base_template_user/assets/js/jquery-2.1.0.min.js"></script>
    <script type="text/javascript" src="/static/CUSTOM_JS/core/maskmoney/src/jquery.maskMoney.js"></script>
{% endblock jquery %}
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.mask/1.14.10/jquery.mask.min.js"></script>
{% block old_custom_js %}{% endblock old_custom_js %}
{% block js_select_customize %}{% endblock js_select_customize %}





<script type="text/javascript" src="/static/slider/nouislider.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.mask/1.14.10/jquery.mask.min.js"></script>

<!-- CLOCKPICKER -->
<script type="text/javascript" src="/static/CUSTOM_JS/user/control_panel/seller_place_availability.js"></script>
<script type="text/javascript" src="/static/clockpicker/dist_folder/bootstrap-clockpicker.min.js"></script>
<script type="text/javascript">
$('.clockpicker').clockpicker().find('input').change(function(){
    console.log(this.value);
});
var input = $('#single-input').clockpicker({
    placement: 'bottom',
    align: 'left',
    autoclose: true,
    'default': 'now'
});

$('.clockpicker-with-callbacks').clockpicker({
        donetext: 'Done',
        init: function() { 
            console.log("colorpicker initiated");
        },
        beforeShow: function() {
            console.log("before show");
        },
        afterShow: function() {
            console.log("after show");
        },
        beforeHide: function() {
            console.log("before hide");
        },
        afterHide: function() {
            console.log("after hide");
        },
        beforeHourSelect: function() {
            console.log("before hour selected");
        },
        afterHourSelect: function() {
            console.log("after hour selected");
        },
        beforeDone: function() {
            console.log("before done");
        },
        afterDone: function() {
            console.log("after done");
        }
    })
    .find('input').change(function(){
        console.log(this.value);
    });

// Manually toggle to the minutes view
$('#check-minutes').click(function(e){
    // Have to stop propagation here
    e.stopPropagation();
    input.clockpicker('show').clockpicker('toggleView', 'minutes');
});
if (/mobile/i.test(navigator.userAgent)) {
    $('input').prop('readOnly', true);
}
</script>
<script type="text/javascript" src="/static/clockpicker/assets/js/highlight.min.js"></script>
<script type="text/javascript">
hljs.configure({tabReplace: '    '});
hljs.initHighlightingOnLoad();
</script>
<!-- CLOCKPICKER -->





<script>
    // ====================================
    // Capacity
    // ====================================
    // source: https://refreshless.com/nouislider/
    // var slider_page = document.getElementById('aaa');
    // noUiSlider.create(slider_page, {
    //   start: [0,100],
    //   range: {
    //     'min': [0],
    //     'max': [5000]
    //   },

    // });
    // slider_page.noUiSlider.on("slide", function(values){
    //   $("#capacity_val").html(parseInt(values))
    // })
    // slider_page.noUiSlider.on("change", function(values){
    //   loading_icon()
    //   var get_places = get_places_pk()
    // })



</script>
{% endblock user_panel_content %}